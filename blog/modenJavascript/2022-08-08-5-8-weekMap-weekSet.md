---
slug:  modern-javascript-5-8
title: (λ¨λ μλ°”μ¤ν¬λ¦½νΈ) 5-8 λ§µκ³Ό μ…‹
authors: malone
tags: [Javascript, Modern Javascript]
keywords: [javascript, weekMap, weekSet, μ„ν¬λ§µ, μ„ν¬μ…‹, λ¨λ μλ°”μ¤ν¬λ¦½νΈ]
---
<br/>

# (λ¨λ μλ°”μ¤ν¬λ¦½νΈ) 5-8 μ„ν¬λ§µκ³Ό μ„ν¬μ…‹

μλ°”μ¤ν¬λ¦½νΈ μ—”μ§„μ€ λ„λ‹¬ κ°€λ¥ν• (κ·Έλ¦¬κ³  μ¶”ν›„ μ‚¬μ©λ  κ°€λ¥μ„±μ΄ μλ”) κ°’μ„ λ©”λ¨λ¦¬μ— μ μ§€ν•λ‹¤

```jsx
let john = { name: "John" };

// μ„ κ°μ²΄λ” johnμ΄λΌλ” μ°Έμ΅°λ¥Ό ν†µν•΄ μ ‘κ·Όν•  μ μμµλ‹λ‹¤.

// κ·Έλ°λ° μ°Έμ΅°λ¥Ό nullλ΅ λ®μ–΄μ“°λ©΄ μ„ κ°μ²΄μ— λ” μ΄μƒ λ„λ‹¬μ΄ κ°€λ¥ν•μ§€ μ•κ² λμ–΄
john = null;

// κ°μ²΄κ°€ λ©”λ¨λ¦¬μ—μ„ μ‚­μ λ©λ‹λ‹¤.
```

μλ£κµ¬μ΅°λ¥Ό κµ¬μ„±ν•λ” μ”μ†λ„ μμ‹ μ΄ μ†ν• μλ£κµ¬μ΅°κ°€ λ©”λ¨λ¦¬μ— λ‚¨μ•„μλ” λ™μ• λ€κ² λ„λ‹¬ κ°€λ¥ν• κ°’μΌλ΅ μ·¨κΈ‰λμ–΄ λ©”λ¨λ¦¬μ—μ„ μ‚­μ λμ§€ μ•λ”λ‹¤. κ°μ²΄μ ν”„λ΅νΌν‹°λ‚ λ°°μ—΄μ λ°°μ—΄μ μ”μ†, λ§µμ΄λ‚ μ…‹μ„ κµ¬μ„±ν•λ” μ”μ†λ“¤μ΄ μ΄μ— ν•΄λ‹Ήν•λ‹¤.

## μ„ν¬λ§µ

`λ§µ`κ³Ό `μ„ν¬λ§µ`μ μ²« λ²μ§Έ μ°¨μ΄λ” `μ„ν¬λ§µ`μ ν‚¤κ°€ λ°λ“μ‹ κ°μ²΄μ—¬μ•Ό ν•λ‹¤λ” μ μ΄λ‹¤. μ›μ‹κ°’μ€ μ„ν¬λ§µμ ν‚¤κ°€ λ  μ μ—†λ‹¤

```jsx
let weekMap = new WeekMap();

let obj = {};

weekMap.set(obj, "ok"); // μ •μ‚­μ μΌλ΅ λ™μ‘ν•λ‹¤(κ°μ²΄ ν‚¤)

// λ¬Έμμ—΄("test")μ€ ν‚¤λ΅ μ‚¬μ©ν•  μ μ—†λ‹¤
weekMap.set("test", "Whoops"); // Error: Invalid value used as week map key
```

μ„ν¬λ§µμ ν‚¤λ΅ μ‚¬μ©λ κ°μ²΄λ¥Ό μ°Έμ΅°ν•λ” κ²ƒμ΄ μ•„λ¬΄κ²ƒλ„ μ—†λ‹¤λ©΄ ν•΄λ‹Ή κ°μ²΄λ” λ©”λ¨λ¦¬μ™€ μ„ν¬λ§µμ—μ„ μλ™μΌλ΅ μ‚­μ λλ‹¤

```jsx
let john = { name: "John" };

let weakMap = new WeakMap();
weakMap.set(john, "...");

john = null; // μ°Έμ΅°λ¥Ό λ®μ–΄μ”€

// johnμ„ λ‚νƒ€λ‚΄λ” κ°μ²΄λ” μ΄μ  λ©”λ¨λ¦¬μ—μ„ μ§€μ›μ§‘λ‹λ‹¤!
```

`john` μ„ λ‚νƒ€λ‚΄λ” κ°μ²΄λ” μ¤λ΅μ§€ `μ„ν¬λ§µ`μ ν‚¤λ΅λ§ μ‚¬μ©λκ³  μμΌλ―€λ΅, μ°Έμ΅°λ¥Ό λ®μ–΄μ“°κ² λλ©΄ μ΄ κ°μ²΄λ” μ„ν¬λ§µκ³Ό λ©”λ¨λ¦¬μ—μ„ μλ™μΌλ΅ μ‚­μ λλ‹¤

`λ§µ`κ³Ό `μ„ν¬λ§µ`μ λ‘λ²μ§Έ μ°¨μ΄λ” μ„ν¬λ§µμ€ λ°λ³µμ‘μ—…κ³Ό `keys()`, `values()`, `entries()`λ©”μ„λ“λ¥Ό μ§€μ›ν•μ§€ μ•λ”λ‹¤. λ”°λΌμ„ μ„ν¬λ±μ—μ„  ν‚¤λ‚ κ°’ μ „μ²΄λ¥Ό μ–»λ”κ²λ¶κ°€λ¥ν•λ‹¤

## μ μ¤ μΌ€μ΄μ¤: μ¶”κ°€ λ°μ΄ν„°

`μ„ν¬λ§µ` μ€ λ¶€μ°¨μ μΈ λ°μ΄ν„°λ¥Ό μ €μ¥ν•  κ³³μ΄ ν•„μ”ν•  λ–„ μΆ‹λ‹¤

```jsx
// π“ visitsCount.js
let visitsCountMap = new Map(); // λ§µμ— μ‚¬μ©μμ λ°©λ¬Έ νμλ¥Ό μ €μ¥ν•¨

// μ‚¬μ©μκ°€ λ°©λ¬Έν•λ©΄ λ°©λ¬Έ νμλ¥Ό λλ ¤μ¤λ‹λ‹¤.
function countUser(user) {
  let count = visitsCountMap.get(user) || 0;
  visitsCountMap.set(user, count + 1);
}
```

μ•„λλ” Johnμ΄λΌλ” μ‚¬μ©μκ°€ λ°©λ¬Έν–μ„ λ•, μ–΄λ–»κ² λ°©λ¬Έ νμκ°€ μ¦κ°€ν•λ”μ§€λ¥Ό λ³΄μ—¬μ¤λ‹λ‹¤.

```jsx
// π“ main.js
let john = { name: "John" };

countUser(john); // Johnμ λ°©λ¬Έ νμλ¥Ό μ¦κ°€μ‹ν‚µλ‹λ‹¤.

// Johnμ λ°©λ¬Έ νμλ¥Ό μ…€ ν•„μ”κ°€ μ—†μ–΄μ§€λ©΄ μ•„λμ™€ κ°™μ΄ johnμ„ nullλ΅ λ®μ–΄μ”λ‹λ‹¤.
john = null;
```

## μ„ν¬μ…‹

- `μ„ν¬μ…‹μ€` `μ…‹`κ³Ό μ μ‚¬ν•λ°, κ°μ²΄λ§ μ €μ¥ν•  μ μλ‹¤. μ›μ‹μΆμ€ μ €μ¥ν•  μ μ—†λ‹¤
- μ…‹ μ•μ κ°μ²΄λ” λ„λ‹¬ κ°€λ¥ν•  λ•λ§ λ©”λ¨λ¦¬μ—μ„ μ μ§€λλ‹¤
- `μ…‹`κ³Ό λ§μ°¬κ°€μ§€λ΅ `μ„ν¬μ…‹`μ΄ μ μ›ν•λ” λ©”μ„λ“λ” `add`, `has`, `delete`λ¥Ό μ‚¬μ©ν•  μ μκ³ , `size`, `keys()` λ‚ λ°λ³µ μ‘μ—… κ΄€λ ¨ λ©”μ„λ“λ” μ‚¬μ©ν•  μ μ—†λ‹¤

```jsx
let visitedSet = new WeakSet();

let john = { name: "John" };
let pete = { name: "Pete" };
let mary = { name: "Mary" };

visitedSet.add(john); // Johnμ΄ μ‚¬μ΄νΈλ¥Ό λ°©λ¬Έν•©λ‹λ‹¤.
visitedSet.add(pete); // μ΄μ–΄μ„ Peteκ°€ μ‚¬μ΄νΈλ¥Ό λ°©λ¬Έν•©λ‹λ‹¤.
visitedSet.add(john); // μ΄μ–΄μ„ Johnμ΄ λ‹¤μ‹ μ‚¬μ΄νΈλ¥Ό λ°©λ¬Έν•©λ‹λ‹¤.

// visitedSetμ—” λ‘ λ…μ μ‚¬μ©μκ°€ μ €μ¥λ  κ²λ‹λ‹¤.

// Johnμ λ°©λ¬Έ μ—¬λ¶€λ¥Ό ν™•μΈν•΄λ³΄κ² μµλ‹λ‹¤.
alert(visitedSet.has(john)); // true

// Maryμ λ°©λ¬Έ μ—¬λ¶€λ¥Ό ν™•μΈν•΄λ³΄κ² μµλ‹λ‹¤.
alert(visitedSet.has(mary)); // false

john = null;

// visitedSetμ—μ„ johnμ„ λ‚νƒ€λ‚΄λ” κ°μ²΄κ°€ μλ™μΌλ΅ μ‚­μ λ©λ‹λ‹¤.
```

`μ„ν¬λ§µ`κ³Ό `μ„ν¬μ…‹`μ κ°€μ¥ ν° λ‹¨μ μ€ λ°λ³µ μ‘μ—…μ΄ λ¶κ°€λ¥ν•λ‹¤λ” μ μ΄λ‹¤. μ„ν¬λ§µμ΄λ‚ μ„ν¬μ…‹μ— μ €μ¥λ μλ£λ¥Ό ν• λ²μ— μ–»λ”κ² λ¶κ°€λ¥ν•λ‹¤