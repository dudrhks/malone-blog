---
slug:  modern-javascript-2-13
title: (모던자바스크립트) 2-13 while과 for반복문
authors: malone
tags: [Javascript, Modern Javascript]
keywords: [javascript, for문, 반복문, while문, 모던 자바스크립트]
---
<br/>

> 동일한 코드를 반복해서 실행해야 하는 경우 반복문을 사용하여 동일한 코드를 여러번 반복할 수 있다
> 

## `while` 반복문

사용법

```tsx
while(condition){
	// 코드
	// '반복문 본문' 이라 불림
}
```

while 문 `condition`(조건)이 truthy 이면 반복문 본문의 `코드`가 실행된다

```tsx
let i = 0;
while (i < 3) { // 0, 1, 2가 출력됩니다.
  alert( i );
  i++;
}
```

반복문 본문이 한 번 실행되는 것을 반복(iteration, 이터레이션) 이라고 부른다. 위 코드는 반복문이 세 번의 이터레이션을 만든다

`i++` 가 없었다면 이론적으로는 반복문이 영원히 반복된다. 그런데 브라우저는 이런 무한 반복을 멈추게 해주는 실질적인 수단을 제공한다. 서버 사이드 자바스크립트도 이런 수단을 제공해 주므로 무한으로 반복 되는 프로세스를 죽일 수 있다

반복문 조건엔 비교뿐만 아니라 모든 종료의 표현식, 변수가 올 수 있다. 조건은 `while`에 의해 평가되고, 평가 후엔 불린 값으로 변경된다

아래 예시에선 `while(i != 0)`을 짧게 줄여 `while(i)`로 만들어 보았다

```tsx
let i = 3;
while (i) { // i가 0되면 조건이 falsy가 되므로 반복문이 멈춘다
	alert(i); 
	i--;
}
```

<aside>
💡 본문이 한 줄이면 대괄호를 생략가능 하다

</aside>

## `do…while` 반복문

do…while 문법을 사용하면 condition을 반복문 본문 아래로 옮길 수 있다

사용법

```tsx
do {
	// 반복문 본문
} while(condition);
```

이 때 본문이 먼저 실행되고, 조건을 확인한 후 조건이 truthy인 동안에 본문이 계속 실행된다

예시

```tsx
let i = 0;
do {
  alert( i );
  i++;
} while (i < 3);
```

`do…while`문법은 조건이 truthy인지 아닌지에 상관없이, 본문을 최소한 한번이라도 실행하고 싶을 때만 사용해야 한다

대다수의 상황에선 `do…while` 보다 `while(…){…}`이 적합하다

## `for` 반복문

`for` 반복문 `while` 반복문보다는 복잡하지만 가장 많이 쓰이는 반복문이다

사용법

```tsx
for(begin; confition; step){
	// 반복문 본문
}
```

for문으로 i가 0부터 3이 될 때까지 반복문을 호출하는 구문을 구현해본다면 아래 코드 처럼 된다

```tsx
for (let i = 0; i < 3; i++) { // 0, 1, 2가 출력됩니다.
  alert(i);
}
```

### 구성요소

`i = 0` (begin) : 반복문에 진입할 때 단 한 번 실행된다

`i < 3` (confition) : 반복마다 해당 조건이 확인됩니다. false이면 반복문을 멈춘다

`alert(i)` (body) : confition이 truthy일 동안 계속해서 실행된다

`i++` (step) : 각 반복의 body가 실행된 이후에 실행된다

 일반적이 반복문의 알고리즘은 다음과 같이 구성된다

```tsx
begin을 실행함
→ (condition이 truthy이면 → body를 실행한 후, step을 실행함)
→ (condition이 truthy이면 → body를 실행한 후, step을 실행함)
→ (condition이 truthy이면 → body를 실행한 후, step을 실행함)
→ ...
```

`begin`이 한 차례 실행된 이후에, `condition` 확인과 `body`, `step`이 계속해서 반복실행 된다

<aside>
💡  인라인 변수 선언 - ‘카운터' 변수 `i` 를 반복문 안에서 선언하였는데 이런 방식을 ‘인라인' 변수 선언이라고 부른다. 이렇게 선언한 변수는 반복문 안에서만 접근 할 수 있다

</aside>

### 구성 요서 생략하기

`for` 문의 구성 요소를 생략하는 것도 가능하다

반복문이 시작 될 때 아무것도 할 필요 없으면 `begin`을 생략하는 것이 가능하다

```tsx
let i = 0; // i를 선언하고 값도 할당하였습니다

for(; i < 3; i++){ // 'begin'이 필요하지 않기 때문에 생략하였다
	alert(i); // 0, 1, 2
}
```

`step` 역시 생략할 수 있다

```tsx
let i = 0;

for (; i < 3;) {
  alert( i++ );
}
```

위와 같이 `for`문을 구성하면 `while (i < 3)`과 동일해집니다.

모든 구성 요소를 생략할 수도 있는데, 이렇게 되면 무한 반복문이 만들어집니다.

```tsx
for (;;) {
  // 끊임 없이 본문이 실행됩니다.
}
```

`for`문의 구성요소를 생략할 때 주의할 점은 두개의 `;`세미콜론을 꼭 넣어주어야 한다는 점이다

## 반복문 빠져나오기

대개는 반복문의 조건이 falsy가 되면 반복문이 종료된다

그런데 특별한 지시자인 `break`를 사용하면 언제든 원하는 때에 반복문을 빠져나올 수 있다

```tsx
let sum = 0;

while (true) {

  let value = +prompt("숫자를 입력하세요.", '');
	
  if (!value) break; // (*) 사용자가 아무런 값도 입력하지 않으면 반복문을 '종료'한다

  sum += value;

}
alert( '합계: ' + sum );
```

위의 코드에서는 사용자가 아무것도 입력하지 않거나`Cancel`버튼을 눌렀을 때 `break` 가 활성화 되어 반복문이 즉시 중단되고 제어 흐름이 반복문 아래 첫 번째 줄로 이동한다

반복문의 시작 지점이나 끝 지점에서 조건을 확인하는 것이 아니라 본문 가운데 혹은 본문 여러 곳에서 조건을 확인해야 하는 경우 ‘무한 반복문 + `break`‘ 조합을 사용하면 좋다

## 다음 반복으로 넘어가기

`continue`는 전체 반복을 멈추지 않는다. 대신에 현재 실행 중인 이터레이션을 멈추고 반복문이 다음 이터레이션을 강제로 실행시키도록 한다

`continue`는 현재 반복을 종료시키고 다음 반복으로 넘어가고 싶을 때 사용할 수 있습니다.

```tsx
for (let i = 0; i < 10; i++) {

  // 조건이 참이라면 남아있는 본문은 실행되지 않습니다.
  if (i % 2 == 0) continue;

  alert(i); // 1, 3, 5, 7, 9가 차례대로 출력됨
}
```

<aside>
💡 `continue` 는 중첩을 줄이는데 도움을 준다

</aside>

<aside>
⚠️ `?` 오른쪽엔 `break`나 `continue`가 올 수 없다

</aside>

```tsx
(i > 5) ? alert(i) : continue; // 여기에 continue를 사용하면 안 됩니다.
// 물음효 연산자를 if문 대용으로 사용하면 안되는 이유 중 하나이다
```

## `break`/`continue`와 레이블

여러 개의 중첩 반복을 한 번에 빠져나와야 하는 경우가 종종 생기는데

`i`와 `j`를 반복하면서 프롬프트 창에 `(0,0)`부터 `(2,2)`까지를 구성하는 좌표 `(i, j)`를 입력하게 해주는 반복문이 있다고 할때

```tsx
for (let i = 0; i < 3; i++) {

  for (let j = 0; j < 3; j++) {

    let input = prompt(`(${i},${j})의 값`, '');

    // 여기서 멈춰서 아래쪽의 `완료!`가 출력되게 하려면 어떻게 해야 할까요?
  }
}

alert('완료!');
```

사용자가 `Cancel` 버튼을 눌렀을 때 반복문을 중단 시킬 필요가 있다

input 아래에 평범한 break 지시자를 사용하면 중첩된 for문만 종료하게 되고 상위의 for문은 종료 되지 않는다 이 때 레이블을 사용하여 종료한다

<aside>
❓ 레이블(label)은 반복문 앞에 콜론과 함께 쓰이는 식별자이다

</aside>

```tsx
labelName: for (...) {
  ...
}
```

반복문 안에서 `break <labelName>`문을 사용하면 레이블에 해당하는 반복문을 빠져나올 수 있다.

```tsx
outer: for (let i = 0; i < 3; i++) {

  for (let j = 0; j < 3; j++) {

    let input = prompt(`(${i},${j})의 값`, '');

    // 사용자가 아무것도 입력하지 않거나 Cancel 버튼을 누르면 두 반복문 모두를 빠져나옵니다.
    if (!input) break outer; // (*)

    // 입력받은 값을 가지고 무언가를 함
  }
}
alert('완료!');
```

`break outer`는 `outer`라는 레이블이 붙은 반복문을 찾고, 해당 반복문을 빠져나오게 해준다

<aside>
⚠️ 레이블 마음대로 ‘점프'할 수 있게 해주지 않는다

</aside>

레이블을 사용한다고 해서 원하는 곳으로 마음대로 점프할 수 있는 것은 아니다

```tsx
break label; // 아래 for 문으로 점프할 수 없습니다.

label: for (...)
```

`break`와 `continue`는 반복문 안에서만 사용할 수 있고, 레이블 반드시 `break`나 `continue`지시자 위에 있어야한다